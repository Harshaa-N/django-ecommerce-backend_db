{% load static %} <link rel="stylesheet" href="{% static 'style.css' %}">
<!--
<h1>Checkout</h1>
<form method="post">
  {% csrf_token %}
  <h2>Select Address:</h2>
  {% for address in addresses %}
    <label>
      <input type="radio" name="address" value="{{ address.id }}" {% if forloop.first %}checked{% endif %}>
      {{ address.full_name }}, {{ address.phone }}, {{ address.address_line_1 }}, {{ address.city }}, {{ address.state }} - {{ address.postal_code }}
      {% if address.default %}(Default){% endif %}
    </label><br>
  {% empty %}
    <p>No addresses found! <a href="#">Add address in profile</a></p>
  {% endfor %}

  <h2>Your Cart:</h2>
  <ul>
    {% for item in cart_items %}
      <li>{{ item.product.title }} ({{ item.quantity }}) x {{ item.product.price }} = {{ item.subtotal }}</li>
    {% endfor %}
  </ul>
  <button type="submit">Place Order</button>
</form>
-->
<h1 style="color:#264653; border-bottom:2px solid #ddd; margin:1.2em 0 1em 0; text-align:center;">Checkout</h1>

<div style="display: flex; justify-content: center; align-items: flex-start; min-height: 75vh;">
  <div style="background:#fff; box-shadow:0 4px 20px #e0e8ee; border-radius:14px; padding:2.1em 2.1em 2em 2.1em; max-width:420px; width:100%;">

    <form method="post" style="margin-bottom:1em;">
      {% csrf_token %}

      <h2 style="font-size:1.19em; color:#178880; margin-bottom:0.7em; border-bottom:1.2px solid #e7eaef; padding-bottom:0.3em;">
        Select Address:
      </h2>
      <div style="margin-bottom: 1.3em;">
        {% for address in addresses %}
          <label style="display:block; background:#f3f7fa; border-radius:8px; margin-bottom:0.6em; padding:0.7em 1em; border:1.4px solid #dde4eb; cursor:pointer;">
            <input type="radio" name="address" value="{{ address.id }}" {% if forloop.first %}checked{% endif %}
                  style="margin-right: 0.55em; accent-color: #1976d2;">
            <span style="font-weight:600; color:#264653;">{{ address.full_name }}</span>
            <span style="color:#888;">| {{ address.phone }}</span><br>
            <span style="color:#497083;">{{ address.address_line_1 }} {{ address.address_line_2 }}, {{ address.city }}, {{ address.state }} - {{ address.postal_code }}</span>
            {% if address.default %}
              <span style="background:#ffd166; color:#916600; font-size:0.92em; border-radius:5px; padding:0.15em 0.7em; margin-left:0.4em;">Default</span>
            {% endif %}
          </label>
        {% empty %}
          <p style="color:#d90429;">No addresses found! <a href="#" style="color:#1976d2; text-decoration:underline;">Add address in profile</a></p>
        {% endfor %}
      </div>
      
      <h2 style="font-size:1.19em; color:#178880; margin-bottom:0.7em; border-bottom:1.2px solid #e7eaef; padding-bottom:0.3em;">Your Cart:</h2>
      <ul style="list-style:none; padding:0; margin:0 0 1.5em 0;">
        {% for item in cart_items %}
          <li style="background:#f7fafc; border-radius:8px; margin-bottom:0.7em; padding:0.7em 1em; color:#222; font-size:1.05em; border:1.3px solid #e3e9f2;">
            <span style="color:#1976d2; font-weight:600;">{{ item.product.title }}</span>
            <span style="float:right; color:#178880;">₹{{ item.product.price }} × {{ item.quantity }} = <b>₹{{ item.subtotal }}</b></span>
          </li>
        {% endfor %}
      </ul>

      <button type="submit" style="width:100%; background:#1976d2; color:#fff; border:none; border-radius:8px; padding: 0.75em 0; font-weight: 600; font-size:1.07em; margin-top: 1.2em;">
        Place Order
      </button>
    </form>
  </div>
</div>
